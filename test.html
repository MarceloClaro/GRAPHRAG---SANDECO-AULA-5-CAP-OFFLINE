<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <title>GraphRAG - Test Page</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }
    .container {
      background: white;
      padding: 40px;
      border-radius: 10px;
      text-align: center;
      box-shadow: 0 10px 40px rgba(0,0,0,0.3);
      max-width: 600px;
    }
    h1 { color: #333; margin: 0 0 10px 0; }
    p { color: #666; margin: 10px 0; }
    .status { font-weight: bold; padding: 10px; margin: 10px 0; border-radius: 5px; }
    .success { background: #d4edda; color: #155724; }
    .error { background: #f8d7da; color: #721c24; }
    .info { background: #d1ecf1; color: #0c5460; }
    button {
      background: #667eea;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
      margin-top: 20px;
      font-size: 16px;
    }
    button:hover { background: #764ba2; }
    code { background: #f5f5f5; padding: 2px 6px; border-radius: 3px; }
  </style>
</head>
<body>
  <div class="container">
    <h1>üîß GraphRAG - Test & Diagnose</h1>
    
    <div class="status info">
      <p>üîç Verificando status da aplica√ß√£o...</p>
    </div>

    <div id="diagnostics">
      <p>Carregando diagn√≥sticos...</p>
    </div>

    <button onclick="location.href='/'">‚Ü©Ô∏è Voltar ao App</button>
    <button onclick="location.reload()">üîÑ Recarregar</button>
  </div>

  <script>
    // Diagn√≥sticos JavaScript
    const diagnostics = document.getElementById('diagnostics');
    let html = '<div>';

    // 1. React
    const reactRoot = document.getElementById('root');
    if (reactRoot) {
      html += '<div class="status success">‚úÖ Root element encontrado</div>';
    } else {
      html += '<div class="status error">‚ùå Root element N√ÉO encontrado!</div>';
    }

    // 2. LocalStorage
    try {
      const saved = localStorage.getItem('appSettings');
      if (saved) {
        html += '<div class="status success">‚úÖ localStorage com dados</div>';
      } else {
        html += '<div class="status info">‚ÑπÔ∏è localStorage vazio (primeira visita)</div>';
      }
    } catch (e) {
      html += '<div class="status error">‚ùå localStorage inacess√≠vel: ' + e.message + '</div>';
    }

    // 3. Window object
    html += '<div class="status info">‚ÑπÔ∏è window.GEMINI_API_KEY: ' + (window.GEMINI_API_KEY ? '‚úÖ Definida' : '‚ùå N√£o definida') + '</div>';

    // 4. Performance
    if (window.performance && window.performance.timing) {
      const loadTime = window.performance.timing.loadEventEnd - window.performance.timing.navigationStart;
      html += '<div class="status info">‚è±Ô∏è Tempo de carregamento: ' + loadTime + 'ms</div>';
    }

    html += '</div>';
    diagnostics.innerHTML = html;

    // Log no console tamb√©m
    console.log('=== GraphRAG Diagnostics ===');
    console.log('Root element:', reactRoot);
    console.log('localStorage:', localStorage.getItem('appSettings'));
    console.log('Window:', window);
  </script>
</body>
</html>
